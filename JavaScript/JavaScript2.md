# JavaScript 2

# 함수

함수를 마스터하는 것은 프로그래밍 언어를 배움에 있어 매우 중요한 기술이다. 자바스크립트는 함수를 많이 사용하고, 언어의 유연성과 표현력의 상당 부분이 함수에서 비롯된다.

## \* 함수란 무엇인가?

함수를 사용하면 코드를 그룹화하고 이름을 지정해 그 이름으로 재사용할 수 있다.

```m
function sum(a,b) {
... var c = a+b;
... return c;
... }
```

함수를 구성하는 부분은 다음과 같다.

- function 키워드
- 함수 이름(위의 경우 sum)
- 함수의 매개변수(위의 경우 a, b). 함수는 매개변수를 사용하지 않거나, 또는 원하는 매개 변수를 사용할 수 있으며, 매개변수는 쉼표로 구분한다.
- 코드 블록 = 함수 본문이라고도 한다.
- return문 = 함수는 항상 값을 반환한다. 값을 명시적으로 반환하지 않으면, 암시적으로 undefined를 반환한다.

함수는 단일 값만 반환할 수 있다. 더 많은 값을 반환해야 하는 경우, 배열을 반환하면 된다.

위의 예제와 같은 구문을 함수 선언이라고 한다.

## \* 함수 호출

함수를 사용하려면 함수를 호출 해야 한다. 간단히 함수의 이름을 사용하여 호출하면 된다. 선택적으로 괄호 안에 매개변수를 제공할 수도 있다.

두 개의 인수를 전달하여 sum() 함수를 호출하고, 함수가 반환하는 값을 변수 result에 할당해 보자.

```m
> var result = sum(1,2);
undefined
> result
3
```

## \* 매개변수

함수를 정의할 때, 함수가 호출될 때 필요한 `매개변수`를 지정할 수 있다. 힘스기 매개변수를 필요로 하지 않을 수도 있지만, 필요한 경우 이를 전달하지 않으면 undefined 값이 지정된다.

다음 예제에선 1과 undefined를 합산하려고 시도하기 때문에 함수는 NaN을 반환한다.

```m
> sum(1)
NaN
```

sum은 저 위에서 정의한 함수이다.

기술적으로 매개변수와 인수(argument)는 서로 다르지만, 두 용어는 종종 같은 의미로 사용된다. 매개변수는 함수와 함께 정의되며, 인수는 호출될 때 함수에 전달된다.

```m
> function sum(a,b) {
... return a + b;
... }
undefined
> sum(1,2)
3
```

위의 예제에서 a와 b는 매개변수이고, 1과 2는 인수다.

자바스크립트는 인수를 받는 데 있어 까다롭지 않다. 함수가 필요로 하는 개수 이상의 인수를 전달하여도 여분의 인수는 무시된다.

```m
> sum(1,2,3,4,5);
3
```

게다가 받아들이는 매개변수의 수에 유연한 함수를 작성할 수 있다. 이는 각 함수 내부에서 자동으로 생성되는 특별한 값인 arguments 덕분에 가능하다.
단순히 전달받은 모든 인수를 반환하는 함수는 다음과 같다.

```m
> function args() {
... return arguments;
... }
undefined
> args();
[Arguments] {}
> args(1,2,3,4,true,'ninja');
[Arguments] { '0': 1, '1': 2, '2': 3, '3': 4, '4': true, '5': 'ninja' }
```

원본은 리스트형태인데 왜 딕셔너리 형태로 나오는지는 모르겠다.

arguments를 사용하면 다음 예제와 같이 sum() 함수를 개선해 여러 개의 인수를 허용하거나 동작하게 만들 수 있다.

ex)

```m
> function sumSteroids() {
... var i
... res = 0,
... number_of_params = arguments.length;
... for (i=0; i<number_of_params; i++) {
..... res += arguments[i];
..... }
... return res;
... }
```

이제 예제를 호출해보자.

```m
> sumSteroids(1,1,1);
3
> sumSteroids(1,2,3,4);
10
> sumSteroids(1,2,3,4,5,5,6,3,1)
30
> sumSteroids(5)
5
> sumSteroids();
0
```

arguments.length 표현식은 함수가 호출될 때 전달받은 인수의 수를 반환하고 res 값에 for문을 통해 arguments의 인덱스에 해당하는 값을 더해 출력한다.

위의 함수 sumSteroids에서 arguments가 배열처럼 보이지만 사실은 배열이 아니라 배열과 비슷한 객체라는 것을 알아야 한다.

그리고 ES6 함수 매개변수는 디폴트 값, 나머지 매개변수를 가질 수 있으며, 구조화가 가능하다.
