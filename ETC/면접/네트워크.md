# 네트워크

# HTTPS란 ?

HTTP(HyperText Transfer Protocol) Secure의 약자이다.

HTTPS를 사용하여 전송되는 데이터는 `TLS`를 통해 보호됨.

TLS는 Certificate Authority(이하 CA)라 불리는 `서드 파티`로부터 서버와 클라이언트의 인증을 하는데 사용된다.

-   TLS란?

    TLS란 Transport Layer Security의 약어로 암호화 보안 프로토콜이다. SSL 프로토콜의 상위호환 버전이다.기본 목표는 기밀성(개인정보 보호라고도 함), 데이터 무결성, 인증, 디지털 인증서를 사용하는 인증을 제공하는 것이다.

-   서드파티(third party) 란?

    하드웨어나 소프트웨어 등의 제품을 제조하고 있는 주요 기업이나 그 계열 회사 또는 기술 제휴를 하고 있는 기업이 아닌 제3자 기업을 부르는 말이다. 간략히 제3자 또는 3차 협력사라고도 한다.

## SSL(TLS) 동작 방식

1. 클라이언트가 서버에 접속하여 랜덤 데이터를 전송 (Client hello)

2. 서버가 Client hello에 대한 응답으로 Server hello를 보낸다.(이 때 인증서와 랜덤데이터까지 제공)

3. 클라이언트의 브라우저에서 서버가 건네준 인증서가 CA에서 발급된건지를 확인하고 공개키로 인증서를 복호화한다. (한마디로 인증서가 믿을 수 있다고 판단)

4. 클라이언트와 서버는 각각의 랜덤 데이터를 가지고 클라이언트에서 `pre master secret` 값을 만들어 낸다. (`대칭키` 생성)

    - 대칭키란 ?

        대칭 키 암호는 암호화 알고리즘의 한 종류로, 암호화와 복호화에 같은 `암호 키`를 쓰는 알고리즘을 의미한다.

        대칭 키 암호는 암호화를 하는 측과 복호화를 하는 측이 같은 암호 키를 공유해야 한다. ( 공개 키 암호에서는 공개 키와 비밀 키를 별도로 가지는데 이와는 구별되는 방식.) 공개 키 암호와 비교했을 때 속도가 빠르다는 장점을 가진다.

5. pre master secret 값을 비대칭키 (클라이언트가 알고있는 공개키)를 이용하여 암호화하고 이를 서버에 보낸다. 이렇게 암호화된 값을 master secret이라 부르고, 이는 session key를 만들어 낸다.

6. 이 session key를 이용하여 서버와 클라이언트는 `대칭키` 방식으로 암호화 통신을 진행한다.

# TCP와 UDP의 차이점은?

`TCP`는 연결 동작을 통해 `ACK`와 `Sequence Number`를 주고받으며 신뢰성과 흐름제어를 제공한다.

-   `ACK`란?

    ACK, 응답 문자, 승인 코드(acknowledgement code)는 승인을 서명하거나, 응답을보내기 위해, 통신 프로토콜의 일부로서 통신 프로세서나 컴퓨터 사이를 지나가는 신호이다.

    어떠한 컴퓨터가 네트워크를 통해 일련의 자료를 다른 컴퓨터로 성공적으로 전송했을 때, 전송을 받은 컴퓨터가 전송을 해 준 컴퓨터에게 보내는 신호로 정의된다. 이는 수신측 컴퓨터가 "준비 완료"의 뜻을 알리는 신호이기도 하다.

-   `Sequence Number` 란?

    TCP에서는 데이터를 보낼때 마다 각 데이터에 고유한 번호를 부여해서 전송을 시도한다. 이 고유한 번호가 바로 Sequence Number이다.

    데이터를 한번씩 전송할 때마다 이 번호가 1씩 증가하게 된다.

    0 ~ 232-1까지 값을 가지게 되는 유한한 값으로 최고값인 232-1 에 도달하면 다시 0 부터 시작한다. ( 2^32 modulo )

    이 일련번호를 이용하여 수신측에서는 중복된 자료는 폐기하고, 순서가 바뀌어서 수신되는 경우 이를 순서대로 재구성할 수 있게 된다.

반면에 `UDP 방식`은 IP를 거의 그대로 사용하며 단순히 `Checksum`말고는 데이터의 훼손등을 감지할 수 없다. 또한 ACK와 Sequence Number를 주고받지 않으므로 중간에 데이터가 유실되어도 이를 다시 요청하거나 할 수 있는 방법이 없다.

-   Checksum 이란?

    체크섬(cehcksum)이란 중복 검사의 한 형태로, 통신에서 자료의 무결성을 보호하는 단순한 방법이다.

# TCP란 무엇인가?

데이터의 송수신을 위해 IP를 이용하는 프로토콜이다. 통신간에 신뢰성을 보장하기 위해 만들어졌다.

`TCP`는 3-way handshake라고 불리는 연결 동작과 4-way handshake라고 불리는 연결 종료를 통해 ACK와 Sequence Number를 주고 받아 데이터 흐름의 신뢰성을 구축한다.

# 브라우저에서 주소창에 url을 입력시 어떤일이 일어나는가?

1. 브라우저의 주소창에 url을 입력한다.
2. 브라우저 캐시에서 DNS 레코드를 확인하여 IP주소를 찾는다. (없다면 DNS resolver를 통해 IP주소를 알아낸다)
3. 브라우저가 서버와 TCP 연결을 시작한다.
4. 브라우저가 웹 서버에 HTTTP 요청을 보낸다.
5. 서버가 요청을 처리하고 응답을 되돌려보낸다.
6. 브라우저는 서버가 보낸 HTML 내용을 표시한다.

# GET 요청과 POST 요청의 차이점은?

1. GET 요청은 캐시가 가능하다. (POST는 캐시가 안됨)
2. GET 요청은 브라우저 기로에 남는다. (POST는 안남음)
3. GET 요청을 북마크에 추가할 수 있다. (POST는 불가능)
4. GET 요청에는 길이 제한이 있다. (POST는 길이 제한 없음)
5. GET 요청은 데이터를 요청할때만 사용 된다.
6. GET 요청은 중요한 정보를 다루면 안된다(파라미터에 다 노출되어 버리기 때문)

# LocalStorage, SessionStorage, Cookie 의 차이점

이 부분은 우선적으로 간단하게, 추후 자세한 설명 첨부해서 보완하기.

Local Storage -> 클라이언트에 저장하여 네트워크 트래픽 비용 감소. 만료기간 설정이 없다.

Cookie -> 매번 서버로 전송해야한다. 개수와 용량에 제한이 존재. 하나의 사이트에 20개의 쿠키 제한, 용량또한 4KB. 만료일자 도달시 제거.

Session -> SessionStorage는 데이터의 지속성과 액세스 범위에 특수한 제한이 존재한다. SessionStorage는 windows 전역 객체의 sessionStorage라는 컬렉션을 통해 저장과 조회가 이루어진다.
